{% extends "base.html" %}
{% block content %}
<div class="card">
    <h2>ğŸ’¬ æ™ºèƒ½åŠ©æ‰‹å¯¹è¯</h2>
    <div id="chat-box" style="background:#f9f9f9; padding:20px; border-radius:10px; min-height:150px; margin-bottom:20px; border:1px solid #eee;">
        <p id="answer" style="color:#555;">ä½ å¥½ï¼æˆ‘æ˜¯ AI åŠ©æ‰‹ï¼Œä½ å¯ä»¥é—®æˆ‘å…³äºâ€œç§‘å­¦ä¸Šç½‘â€ã€â€œå­¦ä¹ æ”¶è·â€æˆ–â€œç½‘é¡µæ­å»ºâ€çš„é—®é¢˜ã€‚</p>
    </div>
    <div style="display:flex; gap:10px;">
        <input type="text" id="question" style="flex:1; padding:12px; border:1px solid #ddd; border-radius:8px;" placeholder="åœ¨æ­¤è¾“å…¥é—®é¢˜...">
        <button onclick="ask()">å‘é€</button>
    </div>
</div>

<script>
function ask() {
    const q = document.getElementById("question").value;
    if(!q) return;
    const ans = document.getElementById("answer");
    ans.innerHTML = "<i>æ­£åœ¨æ€è€ƒä¸­...</i>";
    
    fetch("/ask", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({question: q})
    })
    .then(res => res.json())
    .then(data => {
        ans.innerHTML = "<b>AI å›å¤ï¼š</b><br>" + data.answer;
    });
}
</script>
{% endblock %}